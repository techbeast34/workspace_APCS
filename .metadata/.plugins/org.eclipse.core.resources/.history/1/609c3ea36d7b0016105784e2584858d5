import java.io.File;
import java.io.FileNotFoundException;
import java.util.Scanner;

public class ZipcodeToBarcode {
	static final String[] encodedBarcode = {
			"||:::",  //0
			":::||",  //1
			"::|:|",  //2
			"::||:",  //3
			":|::|",  //4
			":|:|:",  //5
			":||::",  //6
			"|:::|",  //7
			"|::|:",  //8
			"|:|::"}; //9

	public static void main(String[] args) throws FileNotFoundException {
		File zipCodeFile = new File("ZipCodes.txt");
		File cityFile = new File("ZipCodesCity.txt");
		Scanner zipcodeFileScanner = new Scanner(zipCodeFile);
		Scanner cityFileScanner = new Scanner(cityFile);
		String[] barcode = new String[6];
		String[] zipCode = new String[7];
		while(zipcodeFileScanner.hasNext())
		{
			zipCode = readZipCode(zipcodeFileScanner);
			barcode = encodeZipCode(zipcodeFileScanner, zipCode);
			printBarCode(barcode, zipCode, cityFileScanner, cityFile);
			cityFileScanner = new Scanner(cityFile);
		}
	}

	private static void printBarCode(String[] barcode, String[] zipCode, Scanner scanner, File cityFile) throws FileNotFoundException {
		String zipcode = "";
		String city = "";
		int amtLines = 0;
		for(int i = 0; i < zipCode.length; i++)
		{
			zipcode += zipCode[i];
		}
		while(!city.contains(zipcode))
		{
			city = scanner.nextLine();
			amtLines++;
		}
/*		scanner = new Scanner(cityFile);
		for(int i = 0; i < amtLines; i++)
		{
			city += "\n" + scanner.nextLine();
		}*/
		System.out.println(city);
		System.out.print("\t Readable Barcode");
		System.out.print(" | ");
		for(int i = 0; i < barcode.length; i++)
		{
			System.out.print(" " + barcode[i]);
		}
		System.out.print(" |");
		System.out.println();
		System.out.print("     \t Postal Barcode ");
		System.out.print("|");
		for(int i = 0; i < barcode.length; i++)
		{
			System.out.print(barcode[i]);
		}
		System.out.print("|");
		System.out.println();
		System.out.println();
	}

	private static String[] encodeZipCode(Scanner scanner, String[] zipCode) {
		
		String[] barCode = new String[6];
		int total = 0;
		int checkDigit = 0;
		for(int i = 0; i < 5; i++)
		{
			total += Integer.parseInt(zipCode[i]);
		}
		checkDigit = 10 - (total % 10);
		if(checkDigit == 10){
			checkDigit = 0;
		}
		for(int i = 0; i < zipCode.length; i++){
			barCode[i] = encodedBarcode[Integer.parseInt(zipCode[i])];
		}
		barCode[5] = encodedBarcode[checkDigit];
		return barCode;
	}

	private static String[] readZipCode(Scanner scanner) {
		int total = 0;
		int checkDigit = 0;
		String zipCode = scanner.next();
		String[] zipCodeArray = new String[5];
		for(int i = 0; i < zipCodeArray.length; i++){
			zipCodeArray[i] = zipCode.charAt(i) + "";
		}
		return zipCodeArray;
	}

}
